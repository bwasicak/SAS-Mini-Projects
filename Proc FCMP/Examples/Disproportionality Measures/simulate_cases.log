1                                       The SAS System              09:31 Thursday, May 3, 2018

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M5) 
      Licensed to SAS INTERNAL 940 17W43 WX6+ FULL PROD+GRID RESTRIC, Site 70146502.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Updated analytical products:
      
      SAS/STAT 14.3
      SAS/ETS 14.3
      SAS/OR 14.3
      SAS/IML 14.3
      SAS/QC 14.3

NOTE: Additional host information:

 X64_10PRO WIN 10.0.16299  Workstation

NOTE: SAS initialization used:
      real time           0.22 seconds
      cpu time            0.20 seconds
      
1          
2          
3          
4          
5          
6          /* include the macros for building simulated cases (%basecase) and adding drugs
6        ! (%add_drugs) and events (%add_events) */
7          		%include './Macros/basecase.sas';
55         		%include './Macros/add_events.sas';
148        		%include './Macros/add_drugs.sas';
242        
243        /* specify output location for the ouput files (sim_out) and the expected input file
243      !  drug_event_example.sas7bdat (sim_in) */
244        		libname sim_in '../../../Disproportionality Measures/simulating cases';
NOTE: Libref SIM_IN was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\PROJECTS\SAS-Mini-Projects\Disproportionality Measures\simulating cases
245        		libname sim_out './examples';
NOTE: Libref SIM_OUT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\PROJECTS\SAS-Mini-Projects\Proc FCMP\Examples\Disproportionality 
      Measures\examples
246        
247        %LET NCases=100;
248        options nosource nonotes;
WARNING: A table has been extended with null columns to perform the UNION set operation.
WARNING: A table has been extended with null columns to perform the UNION set operation.
255        
2                                       The SAS System              09:31 Thursday, May 3, 2018

256        
257        /* create a table with 1 row per case
258        	the following has also been turned into a macro: /Macros/%cases_to_caserows
259        */
260        data EX2;
261        	length Events $500.;
262        		do until(last.Case_N);
263        			set EX2_LONG;
264        			by Case_N;
265        			Events=catx(' ',Events,EventName);
266        		end;
267        	drop EventName;
268        run;

NOTE: There were 314 observations read from the data set WORK.EX2_LONG.
NOTE: The data set WORK.EX2 has 100 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
      

269        data EX3;
270        	length Drugs $500.;
271        		do until(last.Case_N);
272        			set EX3_LONG;
273        			by Case_N;
274        			Drugs=catx(' ',Drugs,DrugName);
275        		end;
276        	drop DrugName;
277        run;

NOTE: There were 315 observations read from the data set WORK.EX3_LONG.
NOTE: The data set WORK.EX3 has 100 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

278        data EX4;
279        	length Drugs $500. Events $500.;
280        		do until(last.Case_N);
281        			set EX4_LONG;
282        			by Case_N;
283        			Drugs=catx(' ',Drugs,DrugName);
284        			Events=catx(' ',Events,EventName);
285        		end;
286        	drop DrugName EventName;
287        run;

NOTE: There were 1054 observations read from the data set WORK.EX4_LONG.
NOTE: The data set WORK.EX4 has 100 observations and 3 variables.
3                                       The SAS System              09:31 Thursday, May 3, 2018

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

288        
289        options compress=yes;
290        
291        /* move Sample_Cases to permanent library and clean up work */
292        proc sql noprint;
293        	create table sim_out.EX1 as
294        		select * from EX1
295        	;
NOTE: Compressing data set SIM_OUT.EX1 increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: Table SIM_OUT.EX1 created, with 100 rows and 3 columns.

296        	create table sim_out.EX2_LONG as
297        		select * from EX2_LONG
298        	;
NOTE: Compressing data set SIM_OUT.EX2_LONG increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: Table SIM_OUT.EX2_LONG created, with 314 rows and 3 columns.

299        	create table sim_out.EX3_LONG as
300        		select * from EX3_LONG
301        	;
NOTE: Compressing data set SIM_OUT.EX3_LONG increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: Table SIM_OUT.EX3_LONG created, with 315 rows and 3 columns.

302        	create table sim_out.EX2 as select Case_N, DrugName, Events from EX2;
NOTE: Compressing data set SIM_OUT.EX2 increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: Table SIM_OUT.EX2 created, with 100 rows and 3 columns.

303        	create table sim_out.EX3 as select Case_N, Drugs, EventName from EX3;
NOTE: Compressing data set SIM_OUT.EX3 increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: Table SIM_OUT.EX3 created, with 100 rows and 3 columns.

304        	create table sim_out.EX4 as select Case_N, Drugs, Events from EX4;
NOTE: Compressing data set SIM_OUT.EX4 decreased size by 0.00 percent. 
      Compressed is 2 pages; un-compressed would require 2 pages.
NOTE: Table SIM_OUT.EX4 created, with 100 rows and 3 columns.

305        	drop table core;
NOTE: Table WORK.CORE has been dropped.
306        	drop table drugs;
WARNING: File WORK.DRUGS.DATA does not exist.
WARNING: Table WORK.DRUGS has not been dropped.
4                                       The SAS System              09:31 Thursday, May 3, 2018

307        	drop table drug_event;
WARNING: File WORK.DRUG_EVENT.DATA does not exist.
WARNING: Table WORK.DRUG_EVENT has not been dropped.
308        	drop table events;
WARNING: File WORK.EVENTS.DATA does not exist.
WARNING: Table WORK.EVENTS has not been dropped.
309        	drop table EX1, EX2, EX3, EX2_LONG, EX3_LONG, EX4, EX4_LONG;
NOTE: Table WORK.EX1 has been dropped.
NOTE: Table WORK.EX2 has been dropped.
NOTE: Table WORK.EX3 has been dropped.
NOTE: Table WORK.EX2_LONG has been dropped.
NOTE: Table WORK.EX3_LONG has been dropped.
NOTE: Table WORK.EX4 has been dropped.
NOTE: Table WORK.EX4_LONG has been dropped.
310        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.09 seconds
      cpu time            0.04 seconds
      

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           40.15 seconds
      cpu time            29.42 seconds
      
